<html>

<head>
    <script src="javaTeste.js"></script>
    <title>Fockink | calculadora</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="icon" type="imagem/png" href="img/icon.svg" />

    <link rel="stylesheet" href="./css/css.css">




</head>

<body class="container">
    <div>
        <h2>Calculadora-js</h2>
    </div>


    <h3>Formulário de Inscrição:</h3>
    <table>
        <h1>Calculadora fotovoltaica</h1>
        <h3>(O CSS vem depois)</h3>

        <hr>



        <h2>1. Local com rede elétrica?</h2>
        <div class="table-responsive">
            <table class="table">

                <select name="redeEletrica" id="redeEletrica" on-Change="combo(this, 'box)">
                    <option value="0">--escolha--</option>
                    <option value="sim">Sim</option>
                    <option value="nao">Não</option>
                </select>
            </table>
        </div>
        <div>
            <hr>


            <h2>2.Qual tipo de local?</h2>
            <div>
                <select name="local" id="local" on-Change="combo(this, 'box)">
                    <option value="0" selected>--escolha--</option>
                    <option value="casa">casa</option>
                    <option value="empresa">empresa</option>
                    <option value="outro">outro</option>
                </select>
                <hr>
            </div>
            <!--Aqui no select está sendo nomeado o campo para depois fazer um -->





            <h2>3.Local da instalação</h2>
            <h3>Coletando Dados de Cep de uma API</h3>
            <label>CEP:</label><br>
            <input type="text" id="cep" name="cep" style="width:300px;" oninput="fazerRequisicao();" value=""
                placeholder="CEP da localidade" required=""> <br>
            <label>Localidade:</label><br>
            <div id="localidade"></div>
            <hr />

            <script>
                function fazerRequisicao() {
                    var cep = document.getElementById("cep").value;
                    if (cep.length > 7) {
                        var urlApi = "https://viacep.com.br/ws/" + cep + "/json/";
                        var xhttp = new XMLHttpRequest();
                        xhttp.open("GET", urlApi, false);
                        xhttp.send();//A execução do script para aqui até a requisição retornar do servidor
                        var retorno = JSON.parse(xhttp.responseText);
                        console.log("retorno da API: ", xhttp.responseText);
                        console.log("cep: ", retorno.cep);
                        console.log("localidade: ", retorno.localidade);
                        console.log("uf: ", retorno.uf);
                        document.getElementById("localidade").innerHTML = retorno.localidade + "/" + retorno.uf;
                    } else {
                        document.getElementById("localidade").innerHTML = "cep invalido";
                    }
                }

                function resultado() {
                    exibe =
                        

                        "<div>" +
                        "<div>investimento</div> <!--1-->" +
                        "<div>Tamanho do sistema indicado</div> <!--2-->" +
                        "<div>Potencia instalada</div><!--3-->" +

                        "<div>economia mensal</div> <!--1-->" +
                        "<div>Quantidade de módulos</div><!--2-->" +
                        "<div>Média de produção mensal</div><!--3-->" +

                        "<div>valor aproximado do investimento</div> <!--1-->" +
                        "<div>Área estimada</div><!--2-->";


                    document.getElementById("resultado2").innerHTML = exibe;
                }



                function teste() {



                    document.getElementById("resultado").innerHTML = (
                        "<h2>testando</h2>"
                    );

                }

            </script>


            <h2>4.Quanto gasta por mês?</h2>
            <!-- <input type="text" id="gastoMensal" name="gastoMensal" style="width:300px;" value="">
            <button type="submit" id="enviaFormulario">Consultar</button> -->
            <label>R$:</label><br>
            <span class="input-euro left" type="text" id="gastoMensal" name="gastoMensal" style="width:300px;">
                <input name="contaMes" id="contaMes" type="text" style="width:300px" placeholder="2000" required="" />
            </span>
            <hr>

            <h2>5.Qual o valor da tarifa paga ?</h2>
            <input name="tarifa" id="tarifa" type="text" style="width:300px" placeholder="0,58" required="" />
            <hr>
            <h2>Quantos kWp/h são consumidos</h2>
            <input name="kwpConsumo" id="kwpConsumo" type="text" style="width:300px" placeholder="3.389" required="" />
            <hr>
            <div>

                <form action="resultado.html" method="POST" name="formulario">

                    <div class="form-group">
                        <div class="   col-md-5">
                            <label>Nome Completo</label>
                            <input type="text" name="login" class="form-control " placeholder="Nome e Sobrenome"
                                required="">
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="   col-md-5">
                            <label>Telefone de contato</label>
                            <input type="text" name="login" class="form-control " placeholder="(55) 9 0000-0000"
                                required="">
                        </div>
                    </div>




                    <div class="form-group">
                        <div class="   col-md-5">
                            <label>E-MAIL</label>
                            <input type="text" name="login" class="form-control " placeholder="nome@email.com"
                                required="">
                        </div>
                    </div>

                    <button type="submit">botão</button>

                </form>
            </div>

            <hr>

            <div>

            </div>
            <br>
            <button onclick="resultado()">botão</button>
        </div>

        <div class='grid-container' id="resultado2" name="resultado2">



        </div>



    </table>


</body>

</html>